This is a complement of php session files.

When you starts an activity through ajax request and you want get info of this activity via ajax, the subsequents requests are blocked waiting for first request finish.

For that you need to finish use of php session file to serve more ajax request.

Sample of use:

Status.php
==========
<?php
    if (isset($_REQUEST['sid'])) session_id($_REQUEST['sid']);
    session_start();
    
    // MySession
    require '../MySession/MySession.php';
    $mysession = new MySession(session_id());
    
    $id = isset($_REQUEST['id'])?$_REQUEST['id']:'';
    
   
    // this sends to requester the percent of activiy and id,
    // normally the requester is a javascript routine and for not
    // use global id vars now this script returns id
    print(json_encode(array(
                        "p"  => $mysession->readKey($id),
                        "id" => $id,
         )));
   
?>



Activity
========
This file is that starts the activity and controls the percentage of activity,
sample:

<?php

function process_demo(){

    // ..code..

    $mysession = new MySession( session_id() );
    
    $mysession->writeKey($id, 0);
    
    // relase php session for calls from requester stay attended
    session_write_close();
    
    // .. code that process long time ..
    
    // indicates that finishes the long action
    $mysession->writeKey($id, "OK");
    
        
}

?>


For SlimFramework developpers.
------------------------------
Add in root index.php this require:

// MySession
require './app/others/MySession/MySession.php';  